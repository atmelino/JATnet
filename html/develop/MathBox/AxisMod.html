<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>MathBox - Example: Axis labeling.</title>

<script type="text/javascript" charset="utf-8" src="vendor/domready.js"></script>
<script type="text/javascript" charset="utf-8"
	src="build/MathBox-bundle.js"></script>

<script type="text/javascript">
	DomReady
			.ready(function() {
				if (location.href.match(/^file:/)) {
					document.getElementById('info').style.opacity = 1;
					document.getElementById('info').innerHTML = "Sorry. This example does not work when accessed using file://. Please use an http:// host and try again.";
				}
			});
</script>

<script type="text/javascript">
	/**
	 * Bootstrap
	 */
	DomReady.ready(function() {
		ThreeBox.preload([ 'shaders/snippets.glsl.html', ], function() {

			// MathBox boilerplate
			var mathbox = window.mathbox = mathBox({
				cameraControls : true,
				cursor : true,
				controlClass : ThreeBox.OrbitControls,
				elementResize : true,
				fullscreen : true,
				screenshot : true,
				stats : false,
				scale : 1,
			}).start();

			// Viewport camera/setup
			mathbox
			// Cartesian viewport
			.viewport({
				type : 'cartesian',
				range : [ [ -4, 4 ], [ -4, 4 ], [ -4, 4 ] ],
				scale : [ 1, 1, 1 ],
			}).camera({
				orbit : 4.5,
				phi : 0.3,
				theta : 0.3,
			}).transition(300)

			// Axes
			.axis({
				id : 'X',
				axis : 0,
				offset : [ 0, -4, -4 ],
				color : 0xa00000,
				ticks : 5,
				lineWidth : 2,
				size : .05,
				labels : true,
				arrow : true,
			}).axis({
				id : 'Y',
				axis : 1,
				offset : [ -4, 0, -4 ],
				color : 0xa0a0a0,
				ticks : 5,
				lineWidth : 2,
				size : .05,
				zero : false,
				labels : true,
				arrow : true,
			}).axis({
				id : 'Z',
				axis : 2,
				offset : [ -4, -4, 0 ],
				color : 0x0000a0,
				ticks : 5,
				lineWidth : 2,
				size : .05,
				zero : false,
				labels : true,
				arrow : false,
			})
			// Grid
			.grid({
				axis : [ 0, 1 ],
				offset : [ 0, 0, -4 ],
				color : 0xc00000,
				lineWidth : 1,
			}).grid({
				axis : [ 0, 2 ],
				//ticks: [2, 1],
				offset : [ 0, -4, 0 ],
				color : 0x00c000,
				lineWidth : 1,
			}).grid({
				axis : [ 1, 2 ],
				//ticks: [2, 1],
				offset : [ -4, 0, 0 ],
				color : 0x0000c0,
				lineWidth : 1,
			})
			// Curve
			.curve({
				n : 2,
				domain : [ -1, 1 ],
				data : [ [ 0, 0, -4 ], [ 1.5 * π, .5, 4 ] ],
				color : 0xa00000,
				lineWidth : 1,
			}).curve({
				n : 2,
				domain : [ -1, 1 ],
				data : [ [ 0, 0, -4 ], [ 1.75 * π, .5, 4 ] ],
				color : 0xa0a0a0,
				lineWidth : 1,
			}).curve({
				n : 48,
				domain : [ -π, π ],
				expression : function(x) {
					return [ x, .5, 4 ];
				},
				color : 0xa0a0a0,
				lineWidth : 1,
			})

			.vector({
				n : 1,
				data : [ [ 0, -4, -4 ], [ 1, -4, -4 ] ],
				color : 0xc00000,
			}).vector({
				n : 1,
				data : [ [ -4, 0, -4 ], [ -4, 1, -4 ] ],
				color : 0x00c000,
			}).vector({
				n : 1,
				data : [ [ -4, -4, 0 ], [ -4, -4, 1 ] ],
				color : 0x0000c0,
			}).vector({
				n : 1,
				data : [ [ 0, 0, -4 ], [ 2, 2, -4 ] ],
				color : 0xC0C000,
			}).vector({
				n : 1,
				data : [ [ 0, -4, 0 ], [ 2, -4, 2 ] ],
				color : 0xC000C0,
			})

			;

			// Move axis + grid
			setTimeout(function() {
				mathbox.animate('camera', {
					orbit : 4.5,
					phi : 1.5
				}, {
					duration : 2500
				});
			}, 1000);

		});
	});
</script>

<link href="base.css" rel="stylesheet" type="text/css" media="screen">

</head>
<body>
	<div id="info"></div>
</body>
</html>
